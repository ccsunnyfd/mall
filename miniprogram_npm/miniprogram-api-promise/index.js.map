{"version":3,"sources":["index.js","promise.js","method.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;;ACDA;AACA;AACA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA,ADGA;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var __TEMP__ = require('./promise');Object.defineProperty(exports, 'promisify', { enumerable: true, configurable: true, get: function() { return __TEMP__.promisify; } });Object.defineProperty(exports, 'promisifyAll', { enumerable: true, configurable: true, get: function() { return __TEMP__.promisifyAll; } });\n","var __TEMP__ = require('./method');var asyncMethods = __TEMP__['asyncMethods'];\n\nfunction hasCallback(args) {\n  if (!args || typeof args !== 'object') return false\n\n  const callback = ['success', 'fail', 'complete']\n  for (const m of callback) {\n    if (typeof args[m] === 'function') return true\n  }\n  return false\n}\n\nfunction _promisify(func) {\n  if (typeof func !== 'function') return fn\n  return (args = {}) =>\n    new Promise((resolve, reject) => {\n      func(\n        Object.assign(args, {\n          success: resolve,\n          fail: reject\n        })\n      )\n    })\n}\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });function promisifyAll(wx = {}, wxp = {}) {\n  Object.keys(wx).forEach(key => {\n    const fn = wx[key]\n    if (typeof fn === 'function' && asyncMethods.indexOf(key) >= 0) {\n      wxp[key] = args => {\n        if (hasCallback(args)) {\n          fn(args)\n        } else {\n          return _promisify(fn)(args)\n        }\n      }\n    } else {\n      wxp[key] = fn\n    }\n  })\n};exports.promisifyAll = promisifyAll\n\nif (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var promisify = exports.promisify = _promisify;","if (!exports.__esModule) Object.defineProperty(exports, \"__esModule\", { value: true });var asyncMethods = exports.asyncMethods = [\n  'canvasGetImageData',\n  'canvasPutImageData',\n  'canvasToTempFilePath',\n  'setEnableDebug',\n  'startAccelerometer',\n  'stopAccelerometer',\n  'getBatteryInfo',\n  'getClipboardData',\n  'setClipboardData',\n  'startCompass',\n  'stopCompass',\n  'addPhoneContact',\n  'startGyroscope',\n  'stopGyroscope',\n  'startBeaconDiscovery',\n  'stopBeaconDiscovery',\n  'getBeacons',\n  'startLocalServiceDiscovery',\n  'stopLocalServiceDiscovery',\n  'startDeviceMotionListening',\n  'stopDeviceMotionListening',\n  'getNetworkType',\n  'makePhoneCall',\n  'scanCode',\n  'getSystemInfo',\n  'vibrateShort',\n  'vibrateLong',\n  'getExtConfig',\n  'chooseLocation',\n  'getLocation',\n  'openLocation',\n  'chooseMessageFile',\n  'loadFontFace',\n  'chooseImage',\n  'previewImage',\n  'getImageInfo',\n  'saveImageToPhotosAlbum',\n  'compressImage',\n  'chooseVideo',\n  'saveVideoToPhotosAlbum',\n  'downloadFile',\n  'request',\n  'connectSocket',\n  'closeSocket',\n  'sendSocketMessage',\n  'uploadFile',\n  'login',\n  'checkSession',\n  'chooseAddress',\n  'authorize',\n  'addCard',\n  'openCard',\n  'chooseInvoice',\n  'chooseInvoiceTitle',\n  'getUserInfo',\n  'requestPayment',\n  'getWeRunData',\n  'showModal',\n  'showToast',\n  'hideToast',\n  'showLoading',\n  'hideLoading',\n  'showActionSheet',\n  'pageScrollTo',\n  'startPullDownRefresh',\n  'stopPullDownRefresh',\n  'setBackgroundColor',\n  'setBackgroundTextStyle',\n  'setTabBarBadge',\n  'removeTabBarBadge',\n  'showTabBarRedDot',\n  'hideTabBarRedDot',\n  'showTabBar',\n  'hideTabBar',\n  'setTabBarStyle',\n  'setTabBarItem',\n  'setTopBarText',\n  'saveFile',\n  'openDocument',\n  'getSavedFileList',\n  'getSavedFileInfo',\n  'removeSavedFile',\n  'getFileInfo',\n  'getStorage',\n  'setStorage',\n  'removeStorage',\n  'clearStorage',\n  'getStorageInfo',\n  'closeBLEConnection',\n  'closeBluetoothAdapter',\n  'createBLEConnection',\n  'getBLEDeviceCharacteristics',\n  'getBLEDeviceServices',\n  'getBluetoothAdapterState',\n  'getBluetoothDevices',\n  'getConnectedBluetoothDevices',\n  'notifyBLECharacteristicValueChange',\n  'openBluetoothAdapter',\n  'readBLECharacteristicValue',\n  'startBluetoothDevicesDiscovery',\n  'stopBluetoothDevicesDiscovery',\n  'writeBLECharacteristicValue',\n  'getHCEState',\n  'sendHCEMessage',\n  'startHCE',\n  'stopHCE',\n  'getScreenBrightness',\n  'setKeepScreenOn',\n  'setScreenBrightness',\n  'connectWifi',\n  'getConnectedWifi',\n  'getWifiList',\n  'setWifiList',\n  'startWifi',\n  'stopWifi',\n  'getBackgroundAudioPlayerState',\n  'playBackgroundAudio',\n  'pauseBackgroundAudio',\n  'seekBackgroundAudio',\n  'stopBackgroundAudio',\n  'getAvailableAudioSources',\n  'startRecord',\n  'stopRecord',\n  'setInnerAudioOption',\n  'playVoice',\n  'pauseVoice',\n  'stopVoice',\n  'getSetting',\n  'openSetting',\n  'getShareInfo',\n  'hideShareMenu',\n  'showShareMenu',\n  'updateShareMenu',\n  'checkIsSoterEnrolledInDevice',\n  'checkIsSupportSoterAuthentication',\n  'startSoterAuthentication',\n  'navigateBackMiniProgram',\n  'navigateToMiniProgram',\n  'setNavigationBarTitle',\n  'showNavigationBarLoading',\n  'hideNavigationBarLoading',\n  'setNavigationBarColor',\n  'redirectTo',\n  'reLaunch',\n  'navigateTo',\n  'switchTab',\n  'navigateBack'\n];"]}